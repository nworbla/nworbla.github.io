---
title: "Pandas groupby() Simplified: A Quick, Practical Guide"
---

...in progress...

## Introduction

Suppose we want to calculate the total sales of an item per store. Or the average price per product category rather than the average price overall. In data analysis, we often want to goup by category to summarize our data. 

The pandas groupby() function allows us to do just that. 

The groupby() function is designed to split data by category or groups based on one or more coloumns and compute summary statitics based on those groups. When called by itself, the output does not look meaningful, which may seem confusing at first. However, adding a simple function and even resetting the index can prove groupby() to be a powerful pandas tool. 

In this tutorial, we'll walk through the simple ways we can use groupby() effectively. 

```python
#| echo: false
import pandas as pd

data = {
    "Cereal": ["Frosted Flakes", "Cheerios", "Lucky Charms", "Raisin Bran",
               "Corn Flakes", "Honey Nut Oats", "Granola Crunch", "Cocoa Puffs"],

    "Store": ["Walmart", "Walmart", "Walmart", "Walmart",
              "Target", "Target", "Target", "Target"],

    "Brand_type": ["name brand", "name brand", "name brand", "name brand",
                   "name brand", "generic", "generic", "name brand"],

    "Price": [4.29, 3.99, 4.59, 5.49, 3.49, 2.79, 3.19, 4.39],

    "Sugar_grams": [12, 1, 10, 7, 2, 8, 6, 13]
}

df = pd.DataFrame(data)
df
```

## Basic Syntax

```python
#| eval: false
df.groupby("Store")
```

Adding only a function, as below, may raise an error if some of the other columns contain string values. Note that max() and min() will provide the first and last alphabetically respectively for string values. 

```python
#| eval: false
df.groupby("Store").mean()
```


 ```python
df.groupby("Store")["Price"].mean()
```

## Common Aggregations

Here are some of the most common functions used with groupby():  

- mean() - average 
- sum() - total 
- max() - maximun value 
- min() - minimum value
- count() - number of observations

## Grouping by Multiple Columns

```python
df.groupby(["Store", "Brand_type"])["Price"].mean()
```

## Using .agg() for Multiple Functions

```python
df.groupby("Store")["Price"].agg(["mean", "min", "max", "count"])
```

```python
df.groupby("Store").agg({
    "Price": ["mean", "max"],
    "Sugar_grams": "mean"
})
```

## Resetting the Index

```python
df.groupby("Store")["Price"].mean().reset_index()
```

## Conclusion and Next Steps 
